<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head th:include="navegacion-head :: header">
	<title id="pageTitle">Prendas | Altima</title>
</head>

<body class="hold-transition sidebar-mini layout-fixed sidebar-collapse">
	<!-- Site wrapper -->
	<div class="wrapper">
		<!-- Navbar -->
		<div th:insert="navegacion-nav"></div>
		<!-- /.navbar -->
		<!-- Modal -->
		<div th:insert="navegacion-logout"></div>
		<!-- Main Sidebar Container -->
		<div th:insert="navegacion-aside"></div>

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<div class="container-fluid">
					<div class="row mb-2">
						<div class="col-sm-6">
							<h1 th:if="${accion == 'agregar'}" class="card-title">Agregar prenda&nbsp;<a th:href="${'/prendas'}" class="btn btn-sm btn-danger icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Regresar</a></h1>
							<h1 th:if="${accion == 'editar'}" class="card-title">Editar prenda: <text th:text="${prenda.estatusRecepcionMuestra == 'Prospecto'} ? ${prenda.idTextProspecto} : ${prenda.idText}"></text> &nbsp;<a th:href="${'/prendas'}" class="btn btn-sm btn-danger icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Regresar</a></h1>
						</div>
						<div class="col-sm-6">
							<ol class="breadcrumb float-sm-right">
								<li class="breadcrumb-item altima">Altima</li>
								<li class="breadcrumb-item active">Dise&ntilde;o</li>
								<li class="breadcrumb-item active">Prendas</li>
							</ol>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</section>

			<!-- Main content -->
			<section class="content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-12">
							<!-- Default box -->
							<div class="card">
								
											<div class="card-header bg-altima p-0 pt-1">
											<ul class="nav nav-tabs flex-nowrap" role="tablist">
												<li role="presentation" class="nav-item"><a
													href="#step1" class="nav-link nav-link-active active border-tab" data-toggle="tab"
													aria-controls="step1" role="tab"><i
														class="fas fa-info-circle"></i>&nbsp;Datos generales</a></li>
												<li role="presentation" class="nav-item"><a
													href="#step2" class="nav-link nav-link-active disabled border-tab" data-toggle="tab"
													aria-controls="step2" role="tab"><i
														class="fas fa-file-alt"></i>&nbsp;Datos de
														confecci&oacute;n</a></li>
												<li role="presentation" class="nav-item"><a
													href="#step3" class="nav-link nav-link-active disabled border-tab" data-toggle="tab"
													aria-controls="step3" role="tab"><i
														class="flaticon-button-with-cross-stitch" style="margin-right: -7px;"></i>&nbsp;Materiales a usar</a></li>
												<li role="presentation" class="nav-item"><a
													href="#complete" class="nav-link nav-link-active disabled border-tab"
													data-toggle="tab" aria-controls="complete" role="tab"><i
														class="flaticon-pocket-shape"  style="margin-right: -7px;"></i>&nbsp;Piezas de
														patronaje</a></li>
												<li role="presentation" class="nav-item"><a
													href="#consumo" class="nav-link nav-link-active border-tab"
													data-toggle="tab" aria-controls="complete" role="tab"><i class="fas fa-tshirt"></i>
													&nbsp;Consumo por talla</a></li>
											
											</ul>
											</div>
								<div class="card-body">
											<!-- <form th:action="@{/prendas}" method="post"
												th:object="${disenio}">-->
												<div th:object="${prenda}">
												<input type="hidden" value="guardar" id="accionPag"/>
												<div class="tab-content py-2">
													<div class="tab-pane active" role="tabpanel" id="step1">
														<div class="row">
															<div class="col-sm-4">
																<div class="form-group">
																	<label>Tipo de prenda</label> 
																	<select id="TipoPrenda" class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno..." th:disabled="${accion == 'editar' || accion == 'copiar'}">
																		<option th:each="familia: ${familias}" th:value="${familia[0]}" 
																		th:text="${familia[1]}" th:selected="${familia[0] == prenda.idFamiliaPrenda}"></option>
																	</select>
																</div>
															</div>
															<div class="col-sm-4">
																<div class="form-group">
																	<label style="font-size: 15px;">Descripci&oacute;n de la prenda</label>&nbsp;<label id="WarningNombrePrenda" style="font-size: 13px; color: red; display: none;">(Ya existe una prenda asi.)</label>
																		<input type="text" class="form-control" placeholder="Descripcion de Prenda" th:if="${accion == 'copiar'}" value="" id="DescripcionPrenda">
																		<input type="text" class="form-control" placeholder="Descripcion de Prenda" th:if="${accion == 'editar' || accion == 'agregar'}" th:value="*{descripcionPrenda}" id="DescripcionPrenda">
																</div>
															</div>
															<div class="col-sm-4">
																<div class="form-group">
																	<label style="font-size: 15px;">Nota especial</label> <input
																		type="text" class="form-control" placeholder="Nota de Prenda"  th:field="*{notaEspecial}" id="NotaEspecial">
																</div>
															</div>
															
															<div class="col-sm-6">
																<div class="form-group">
																	<label>G&eacute;nero de prenda</label> 
																	<select id="GeneroPrenda" class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno...">
																		<option th:each="genero: ${generos}" th:value="${genero.idLookup}" 
																		th:text="${genero.nombreLookup}" th:selected="(${genero.idLookup} == ${prenda.idGenero})"></option>
																	</select>
																</div>
															</div>
															
															<div class="col-sm-6">
																<div class="form-group">
																	<label>Diseño exclusivo para:</label> 
																	<select id="ClientePrenda" multiple class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno...">
																		<option th:each="cliente: ${clientes}" th:value="${cliente.idCliente}" 
																		th:text="${cliente.nombre}"></option>
																	</select>
																</div>
															</div>
															
															<div class="col-sm-12">
																<div class="form-group">
																	<label>Detalle de la prenda</label>
																	<textarea class="form-control" rows="3"
																		placeholder="Escribir el detalle de la prenda..." id="DetallePrenda" 
																		th:field="*{detallePrenda}">
																		</textarea>
																</div>
															</div>
														</div>
														
																											
														<div class="row">
															<!-- Form de Imagenes -->
															
															<div class="col-sm-12">
															<form th:action="${accion} == 'editar' ?@{/imagenes_prendas_editar}:@{/imagenes_prendas}" method="POST" enctype="multipart/form-data">
															<input type="hidden" name="_csrf" id="token"  th:value="${_csrf.token}"/>
															
																																										
															
															
															<!-- Input de nombre, imagen y boton -->
															<label for="mainImage1">Imagenes de la prenda</label>	
															<div class="form-group p-3 border p-2 rounded m-3">
															
															<div class="col-sm-12" id="ContenedorBotonAgregarOtro" th:if="${imagenesPrenda.size() <= 6}">
																<div class="col">
																	<center><button th:if="${accion == 'agregar' || accion == 'copiar' }" type="button" onclick="AgregarImagen()" class="btn icon-btn btn-success text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-success"></span>Agregar una imagen</button></center>
																	<center><button th:if="${accion == 'editar'}" type="button" onclick="AgregarImagenEditar()" class="btn icon-btn btn-success text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-success"></span>Agregar una imagen</button></center>
																</div>
															</div><br>
															
															<!-- Previsualizaciones de imagenes -->
															<div class="col-sm-12" th:if="${accion == 'agregar' || accion == 'copiar'}">
																	<div class="row">
																		<div class="col">
																			<div class="row" id="ContenedorMainImagenes">
																			
																			<div class="col-sm-4" id="Contenedor-1">
																				<div class="card" style="width: 18rem;" id="Contenido-1">  																					
																					<div class="image-upload-1">
	  																					<label for="file-input-1"> 
	  																						<img class="card-img-top" id="img-1" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-1" name="file-input-1" onchange="PreviewImage(this, 1);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text">
																							<input type="text" id="name-1" name="name-1" class="form-control" value="Frente" readonly="readonly">
																						</p> 																							
																						<br>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-2">
																				<div class="card" style="width: 18rem;" id="Contenido-2">  																					
																					<div class="image-upload-2">
	  																					<label for="file-input-2"> 
	  																						<img class="card-img-top" id="img-2" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-2" name="file-input-2" onchange="PreviewImage(this, 2);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text">
																							<input type="text" id="name-2" name="name-2" class="form-control" value="Espalda" readonly="readonly">
																						</p> 																							
																						<br>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-3" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-3">  																					
																					<div class="image-upload-3">
	  																					<label for="file-input-3"> 
	  																						<img class="card-img-top" id="img-3" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-3" name="file-input-3" onchange="PreviewImage(this, 3);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-3" name="name-3" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button type="button" onclick="QuitarImagen(3)" class="btn icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-4" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-4">  																					
																					<div class="image-upload-4">
	  																					<label for="file-input-4"> 
	  																						<img class="card-img-top" id="img-4" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-4" name="file-input-4" onchange="PreviewImage(this, 4);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-4" name="name-4" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button type="button" onclick="QuitarImagen(4)" class="btn icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-5" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-5">  																					
																					<div class="image-upload-5">
	  																					<label for="file-input-5"> 
	  																						<img class="card-img-top" id="img-5" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-5" name="file-input-5" onchange="PreviewImage(this, 5);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-5" name="name-5" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button type="button" onclick="QuitarImagen(5)" class="btn icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			<div class="col-sm-4" id="Contenedor-6" style="display: none">
																				<div class="card" style="width: 18rem;" id="Contenido-6">  																					
																					<div class="image-upload-6">
	  																					<label for="file-input-6"> 
	  																						<img class="card-img-top" id="img-6" src="/dist/img/preview.png" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																					</label> 
	  																					<input id="file-input-6" name="file-input-6" onchange="PreviewImage(this, 6);" type="file" style="display:none"/>
																					</div> 
																					<div class="card-body"> 
																						<p class="card-text"><input type="text" id="name-6" name="name-6" class="form-control" placeholder="Nombre de Imagen"></p> 																							
																						<button type="button" onclick="QuitarImagen(6)" class="btn icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
																					</div> 
																				</div> 																				
																			</div>
																			
																			
																			</div>
																		</div>
																	</div>
															</div>
															<!-- Previsualizaciones de imagenes -->	
															
															
															<!-- Previsualizaciones de Imagenes al editar -->
															<div class="row" th:if="${accion == 'editar'}" id="ContenedorImagenesEditar">
															<input type="hidden" name="idPrenda" id="idPrenda"  th:value="${prenda.idPrenda}"/>
																<!-- Uno -->
																<div class="col-sm-4" th:each="img: ${imagenesPrenda}" th:id="${'Contenedor-' + img.estatus}" th:style="${img.idPrenda != null || img.estatus == '1' || img.estatus == '2'} ? 'display: block' : 'display: none' ">
																	<div class="card" style="width: 18rem;">  																					
																		<div th:class="${'image-upload-edit-' + img.estatus}">
	  																		<label th:for="${'file-input-edit-' + img.estatus}" th:id="${'contenedor-imagen-' + img.estatus}">
	  																			<img class="card-img-top" th:id="${'img-edit-' + img.estatus}" th:src="@{'https://res.cloudinary.com/dti-consultores/image/upload/v1594938399/prendas/' + ${img.rutaPrenda}}" th:onerror="this.src='/dist/img/preview.png'" style="max-width: 289px !important; max-height: 289px !important; width: auto !important; height: auto !important;"> 
	  																		</label> 
	  																		<input th:id="${'file-input-edit-' + img.estatus}" th:name="${'file-input-edit-' + img.estatus}" th:attr="onchange=|PreviewImageEdit(this, '${img.estatus}')|" type="file" style="display:none"/>
	  																		<input type="hidden" th:id="${'id-input-edit-' + img.estatus}" th:name="${'id-input-edit-' + img.estatus}" th:value="${img.idPrendaImagen}"/>
	  																		<input type="hidden" th:id="${'status-input-edit-' + img.estatus}" th:name="${'status-input-edit-' + img.estatus}" value="Same"/>
																		</div> 
																		<div class="card-body"> 
																			<p class="card-text">
																				<input type="text" th:id="${'name-edit-' + img.estatus}" th:name="${'name-edit-' + img.estatus}" class="form-control" th:value="${img.nombrePrenda}" placeholder="Nombre de Imagen" th:readonly="${img.estatus == '1' || img.estatus == '2'}">
																			</p> 	
																			<div th:if="${img.estatus == '3' || img.estatus == '4' || img.estatus == '5' || img.estatus == '6'}">																						
																				<button type="button" th:attr="onclick=|QuitarImagenEdit('${img.estatus}')|" class="btn btn-sm icon-btn btn-danger text-white"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
																			</div>
																		</div> 
																	</div> 																				
																</div>
																<!-- Uno -->
																
																
																
															</div>
															<!-- Previsualizaciones de Imagenes al editar -->
															
																																
															</div>
															<!-- Input de nombre, imagen y boton -->
															
															<!-- Boton de form -->
																<button type="submit" id="FormImagenes" style="border: none; display: none;"></button>
																
															<!-- Boton de form -->
															</form>
															</div>
															<!-- Form de Imagenes -->															
															

															<div class="form-group col-sm-12">
																<a th:href="@{'/prendas'}" class="btn icon-btn btn-danger text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Cancelar</a>
																<button type="button" onclick="ValidarPrimerPestana()" class="btn icon-btn btn-altima text-white float-right"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
																<button type="button" class="btn icon-btn btn-altima text-white next-step float-right" id="SiguientePrimeraPestana" style="display: none"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
															</div>
															<div class="form-group col-sm-12" id="AlertaPrimerPestana" style="display: none; color: red;">
																<div class="float-right">
																	<label>Debes llenar todos los campos correctamente.</label>
																</div>
															</div>
															<div class="form-group col-sm-12" id="AlertaPrimerPestanaNombresRepetidos" style="display: none; color: red;">
																<div class="float-right">
																	<label>Los nombres de las imagenes no se deben repetir.</label>
																</div>
															</div>
														</div>															
													</div><!-- Cierra lo de step 1 -->
													<div class="tab-pane" role="tabpanel" id="step2">
														<div class="row">
															<div class="col-sm-12">
																<div class="form-group">
																	<label>Detalle de la confecci&oacute;n</label><!--  -->
																	<textarea class="form-control" rows="9" id="DetalleConfeccion" th:if="*{ detalleConfeccion }" th:text="*{ detalleConfeccion }">
																	</textarea>
																	<textarea class="form-control" rows="9" id="DetalleConfeccion" th:if="*{ detalleConfeccion == null || detalleConfeccion == ''}">
Checar tensión de la maquina antes de iniciar la confección de
la prenda para evitar que se truenen o frunzan las costuras en general.
Utilizar tono de hilo indicado en la orden de corte.
Costuras a 10 P.P.P.               Pespuntes a 8 P.P.P.
Coser botón a su caída en la misma dirección del ojal.
Coser botón de repuesto en la etiqueta de composición.
Coser foleo a un lado de la etiqueta de marca y dejar uno en etiqueta de composición.
Planchado permanente sin brillar la tela.
Utilizar cubre polvo en colores claros.														
																	</textarea>
																</div>
															</div>
															<label for="adicionar" style="margin-left: 7px;"> Tipos de Marcadores&nbsp;&nbsp;</label>
                                                            <div class="input-group col-sm-12">
											
                                                                <select class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno..." name="marcador_" id="marcador_">
                                                                    
                                                                    <option th:each="marcador:${marcadores}"th:value="${marcador.idLookup}" th:text="${marcador.nombreLookup}"></option>
                                                                </select>
															  <span class="input-group-btn" style="margin-left: 10px;">
															    <button type="button" id="adicionar" onclick="guardarMarcador()" class="btn icon-btn btn-altima text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-altima"></span>Agregar</button>
															  </span>
															</div>
															<br><br>
                                                            <div class="col-sm-12">

                                                                <table class="table table-bordered table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th style="display: none;">Id</th>
                                                                            <th>Lista de Marcadores</th>
                                                                            <th>Eliminar</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="tablita">
                                                                        <tr th:each="pm:${prendasmarcadores}">
                                                                            <td style="display: none;" th:text="${pm[0]}"></td>
                                                                            <td th:text="${pm[1]}"></td>
                                                                            <td class="text-center">
                                                                                <button type="button" name="remove" onclick="eliminarMarcador(this)" class="btn icon-btn btn-danger text-white btn_remove"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>

                                                            </div>
														</div>
														<div class="form-group" >
																<a th:href="@{'/prendas'}" class="btn icon-btn btn-danger text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Cancelar</a>
																<button type="button" class="btn icon-btn btn-altima text-white float-right" onclick="ValidarSegundaPestana()"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
																<button type="button" class="btn icon-btn btn-altima text-white next-step float-right" style="display: none" id="SiguienteSegundaPestana"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
														</div>
														<div class="row float-right" id="AlertaSegundaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes llenar todos los campos correctamente.</label>
																</div>
															</li>
														</ul>
														</div>
													</div>
													<div class="tab-pane" role="tabpanel" id="step3">
														<div class="row">
															<div class="col-sm-12">
																<div class="form-group">
																	<label for="ListaDeMateriales">Lista de materiales</label>
																	<div class="input-group mb-3">
																		<select placeholder="Elige una prenda" id="ListaDeMateriales" class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno...">
																			<option th:each="materiales : ${materiales}" th:value="${materiales[0]}" th:text="${materiales[1]}"></option>
																			
																	</select>
																		<div class="input-group-append" style="margin-left:10px;">
																			<button type="button" onclick="AgregarElementoListaMateriales()" id="AgregarElementoMaterial" class="btn icon-btn btn-altima text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-altima"></span>Agregar</button>
																		</div>
																	  </div>
																</div>
															</div>
															<div class="col-md-12">
																<table class="table table-striped table-bordered">
																	<thead>
																		<tr>
																			<th scope="col">Clave AMP</th>
																			<th scope="col">Nombre</th>
																			<th scope="col">Clasificaci&oacute;n</th>
																			<th scope="col">Tama&ntilde;o</th>
																			<th scope="col">Unidad de Medida</th>
																			<th scope="col">Modelo</th>
																			<th scope="col">Proceso</th>
																			<th scope="col">Cantidad</th>
																			<th scope="col">Acciones</th>
																		</tr>
																	</thead>
																	<tbody id="CuerpoTablaMateriales">
																		<tr th:each="mat: ${materialesPrenda}" th:id="'RemoverElemento-' + ${mat[10]}">
                                                                            <td th:text="${mat[1]}"></td>
                                                                            <td scope='row' th:text="${mat[2]}"></td>
                                                                            <td th:text="${mat[3]}"></td>
                                                                            <td th:text="${mat[4]}"></td>
                                                                            <td th:text="${mat[5]}"></td>
                                                                            <td th:text="${mat[6]}"></td>
                                                                            <td th:text="${mat[7]}"></td>
                                                                            <td>
                                                                                <input type="number" th:id="'CantidadMaterial-' + ${mat[10]}" class="form-control" th:value="${mat[5]=='Pieza'||mat[5]=='Rollo'}?${#numbers.formatInteger(mat[9],1)}:${mat[9]}" step='any' th:attr="onchange=|CambiarCantidadMaterial('${mat[10]}')|" />
                                                                            </td>
                                                                            <td class="tdcenter">
                                                                            	<button type="button" th:if="${mat[12]}==1" th:unless="${accion}=='copiar'" th:attr="onclick=|getMaterialesByTipo('${mat[11]}','${mat[0]}','${mat[8]}')|" data-toggle="modal" id="modal_material" data-target="#modalMateriales" class="btn icon-btn btn-altima text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-altima"></span>Agregar material</button>
                                                                                <button type="button" th:attr="onclick=|QuitarMaterial('${mat[10]}')|" class="btn icon-btn btn-danger text-white btn_remove"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
                                                                            </td>
                                                                        </tr>
																	</tbody>
																</table>
															</div>
														</div>
														<div th:insert="modal-materiales-select"></div>
														<!-- <ul class="float-right">
															<li class="list-inline-item">
															
																<button type="button" class="btn btn-outline-primary next-step">Siguiente</button>
															</li>
														</ul> -->
														<div class="form-group" >
																<a th:href="@{/prendas''}" class="btn icon-btn btn-danger text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Cancelar</a>
																<button type="button" onclick="ValidarTerceraPestana()" class="btn icon-btn btn-altima text-white float-right"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
																<button type="button" class="btn icon-btn btn-altima text-white next-step" style="display: none" id="SiguienteTerceraPestana"><span class="btn-glyphicon spancircle fas fa-forward img-circle text-altima"></span>Siguiente</button>
															
														</div>
														<div class="row float-right" id="AlertaTerceraPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un material.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
													<div class="tab-pane" role="tabpanel" id="complete">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label>Lista de piezas de patronaje</label>
																	<div class="input-group mb-3">
																		<select id="ListaPatronaje" class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" title="Selecciona uno...">
																			<option th:each="patronajes : ${patronajes}" th:value="${patronajes[0]}" th:text="${patronajes[2]}"></option>
																		</select>
																		<div class="input-group-append" id="BotonAgregar" style="display: block; margin-left: 10px;">
																			<button type="button" onclick="guardarPatronaje()" id="BotonAgregarPatronaje" class="btn icon-btn btn-altima text-white"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-altima"></span>Agregar</button>
																		</div>
																	  </div>
																	  
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <table class="table table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
                                                                            <th scope="col" style='display: none;'>Id</th>
                                                                            <th scope="col">Nombre</th>
                                                                            <th scope="col" class="text-center">Tela<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Tela Combinación<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Forro<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Forro Combinación<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col" class="text-center">Entretela<br>N&uacute;mero de piezas</th>
                                                                            <th scope="col">Eliminar</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="CuerpoPatronaje">

                                                                        <tr th:each="pat: ${patronajesPrenda}" >
                                                                            <td style='display: none;' th:text="${pat[6]}"></td>
                                                                            <td th:text="${pat[2]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[3]}" placeholder="10" th:id="${'CantidadTela'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[7]}" placeholder="10" th:id="${'CantidadTelaSecundaria'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[4]}" placeholder="10" th:id="${'CantidadForro'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[8]}" placeholder="10" th:id="${'CantidadForroSecundario'+pat[6]}"></td>
                                                                            <td><input type="number" class="form-control" th:value="${pat[5]}" placeholder="10" th:id="${'CantidadEntretela'+pat[6]}"></td>
                                                                            <td class="tdcenter">
                                                                                <button type="button" onclick="eliminarPatronaje(this)" class="btn icon-btn btn-danger text-white btn_remove"><span class="btn-glyphicon spancircle fas fa-times fa-lg img-circle text-danger"></span>Eliminar</button>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>

                                                        <div class="row float-right">
                                                            <ul class="float-right">
                                                            	<li class="list-inline-item" id="Guardando" style="display: none">
	                                                            	<button th:if="${accion == 'editar' || accion == 'agregar'}" class="btn btn-primary" type="button" disabled>Guardando...
	  																	<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
	  																	<span class="sr-only">Loading...</span>
																	</button>
																	<button th:if="${accion == 'copiar'}" class="btn btn-primary" type="button" disabled>Copiando...
	  																	<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
	  																	<span class="sr-only">Loading...</span>
																	</button>
                                                            	</li>
                                                            </ul>
                                                        </div>
														
														<div class="form-group d-flex justify-content-between" id="ElDeGuardar">
															<a th:href="@{'/prendas'}" class="btn icon-btn btn-danger text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-arrow-left img-circle text-danger"></span>Cancelar</a>
															<button type="button" th:if="${accion == 'editar' || accion == 'agregar'}" onclick="ValidarCuartaPestana()" class="btn icon-btn btn-altima text-white float-right"><span class="btn-glyphicon spancircle fas fa-save img-circle text-altima"></span>Guardar</button>
															<button type="button" th:if="${accion == 'copiar'}" onclick="ValidarCuartaPestana()" class="btn icon-btn btn-info text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-save img-circle text-info"></span>Copiar</button>
															<button type="button" style="display: none" id="SiguienteCuartaPestana" onclick="Guardar()" class="btn icon-btn btn-altima text-white mr-auto"><span class="btn-glyphicon spancircle fas fa-save img-circle text-altima"></span>Guardar</button>
														</div>
														<div class="row float-right" id="AlertaCuartaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un elemento.</label>
																</div>
															</li>
														</ul>
													</div>
													<div class="row float-right" id=AlertaCantidadesPatronaje style="display: none; color: red !important">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar las cantidades.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
												<!--  <div class="tab-pane" role="tabpanel" id="consumo">
                                                        <div class="row">
                                                            <div class="form-group col-sm-12">
                                                            	<label style="margin-left:2px">Material</label>
                                                                <div class="input-group mb-3">
																 <select class="form-control selectpicker" data-live-search="true" data-live-search-normalize="true" id="materialConsumo">
															      <option>Tela principal</option>
															      <option>Tela combinacion (tabla por definir)</option>
															      <option>Forro</option>
															      <option>Entretela (tabla por definir)</option>
															    </select>
																 <div style="margin-left:8px">
																    <a data-toggle="modal" data-target="#modalConsumoPorPrendas" class="btn icon-btn btn-altima text-white float-right" type="submit"><span class="btn-glyphicon spancircle fas fa-plus img-circle text-altima"></span>Agregar</a>
																  </div>
																</div>
                                                            </div>
                                                            
                                                            <div class="col-md-12">
                                                                <table class="table tablaConsumoPorPrendas table-striped table-bordered">
                                                                    <thead>
                                                                        <tr>
																          <th rowspan='2' style="width:5%">Talla</th>
																          <th colspan="7" class="text-center" style="width:70%">Largos</th>
																          <th colspan="2" class="text-center" style="width:20%">Aumento de telas</th>
																          <th rowspan='2' style="width:5%">Acciones</th>
																        </tr>
																        <tr>
																        <th style="width:10%">XXC</th>
																        <th style="width:10%">XC</th>
																        <th style="width:10%">C</th>
																        <th style="width:10%">R</th>
																        <th style="width:10%">L</th>
																        <th style="width:10%">XL</th>
																        <th style="width:10%">XXL</th>
																        <th class="text-center" style="width:10%;">Estampada rayada</th>
																        <th class="text-center" style="width:10%;">Estampada cuadros</th>
																        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr>
                                                                        	<td>0</td>
                                                                            <td>1.25</td>
                                                                            <td>1.3</td>
                                                                            <td>1.35</td>
                                                                            <td>1.4</td>
                                                                            <td>1.45</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
																		<tr>
                                                                        	<td>1</td>
                                                                            <td>1.3</td>
                                                                            <td>1.35</td>
                                                                            <td>1.4</td>
                                                                            <td>1.45</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>2</td>
                                                                            <td>1.35</td>
                                                                            <td>1.4</td>
                                                                            <td>1.45</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>3</td>
                                                                            <td>1.4</td>
                                                                            <td>1.45</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>4</td>
                                                                            <td>1.45</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>5</td>
                                                                            <td>1.5</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>6</td>
                                                                            <td>1.55</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>7</td>
                                                                            <td>1.6</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>8</td>
                                                                            <td>1.65</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>9</td>
                                                                            <td>1.7</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>10</td>
                                                                            <td>1.75</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>11</td>
                                                                            <td>1.8</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>12</td>
                                                                            <td>1.85</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>13</td>
                                                                            <td>1.9</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>2.2</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>14</td>
                                                                            <td>1.95</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>2.2</td>
                                                                            <td>2.25</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>15</td>
                                                                            <td>2</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>2.2</td>
                                                                            <td>2.25</td>
                                                                            <td>2.3</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>16</td>
                                                                            <td>2.05</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>2.2</td>
                                                                            <td>2.25</td>
                                                                            <td>2.3</td>
                                                                            <td>2.35</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                        	<td>17</td>
                                                                            <td>2.1</td>
                                                                            <td>2.15</td>
                                                                            <td>2.2</td>
                                                                            <td>2.25</td>
                                                                            <td>2.3</td>
                                                                            <td>2.35</td>
                                                                            <td>2.4</td>
                                                                            <td>5 cm</td>
                                                                            <td>10 cm</td>
                                                                            <td class="tdcenter">
                                                                                <button class="btn btn-warning btn-circle btn-sm popoverxd" data-toggle="modal" data-target="#modalConsumoPorPrendas" data-container="body" data-placement="top" data-content="Editar"><i class="fas fa-pen"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <div th:insert="modal-consumo-por-prendas"></div>
                                                            </div>
                                                        </div>
													</div>-->	
													
													<div class="tab-pane" role="tabpanel" id="precios">
                                                        <div class="row">
																  <div class="form-group col-md-3">
																    <label for="nuevoLocal">Nuevo local</label>
																    <input type="number" class="form-control" id="nuevoLocal" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="nuevoForaneo">Nuevo for&aacute;neo</label>
																    <input type="number" class="form-control" id="nuevoForaneo" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="anteriorLocal">Anterior local</label>
																    <input type="number" class="form-control" id="anteriorLocal" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="anteriorForaneo">Anterior for&aacute;neo</label>
																    <input type="number" class="form-control" id="anteriorForaneo" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="lineaExpress">Linea Express</label>
																    <input type="number" class="form-control" id="lineaExpress" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="maquila">Maquila</label>
																    <input type="number" class="form-control" id="maquila" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="ventaInterna">Venta Interna</label>
																    <input type="number" class="form-control" id="ventaInterna" placeholder="26000">
																  </div>
																  <div class="form-group col-md-3">
																    <label for="muestrario">Muestrario</label>
																    <input type="number" class="form-control" id="muestrario" placeholder="26000">
																  </div>
                                                            
                                                        </div>

                                                        <div class="row float-right">
                                                            <ul class="float-right">
                                                                <li class="list-inline-item">
                                                                    <button type="button" class="btn btn-primary">Guardar</button>
                                                                    <button type="button" class="btn btn-primary next-step">Guardar</button>
                                                                </li>
                                                            </ul>
                                                        </div>
														<br><br><br>
														<div class="row float-right" id="AlertaCuartaPestana" style="display: none; color: red;">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar al menos un elemento.</label>
																</div>
															</li>
														</ul>
													</div>
													<div class="row float-right" id=AlertaCantidadesPatronaje style="display: none; color: red !important">
														<ul class="float-right">
															<li class="list-inline-item">
																<div class="float-right">
																	<label>Debes agregar las cantidades.</label>
																</div>
															</li>
														</ul>
													</div>
													</div>
													<div class="clearfix"></div>
												</div>
											<!-- /form-->
								</div>
								<!-- /.card-body -->
							</div>
							<!-- /.card -->
						</div>
					</div>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<div th:insert="navegacion-footer"></div>
	</div>
	<!-- ./wrapper -->


	<div th:replace="navegacion-scripts"></div>
	<script src="/dist/js/UploadImage.js"></script>
	<script src="/dist/js/custom.js"></script>
	<script src="/dist/js/AgregarPrenda.js"></script>
	<script src="/dist/js/AgregarPrendaAsignar.js"></script>
	<script src="/dist/js/AgregarPrendaObjetos.js"></script>
	<script src="/dist/js/tablaMaterialSelect.js"></script>
	<script src="/dist/js/tablaConsumoPorPrendas.js"></script>
	
	<script>
	$(document).ready(function() {
		   $('.selectpicker').selectpicker({
			   style: 'border border-bootstrap'
		   });
		});
	</script>
	<style>
	.before-title-1, .before-title-2, .title-text {
  font-family: monospace;
  font-size: 20px;
}

.before-title-1 {
  position: absolute;
  top: 7px;
  left: 8px;
  color: #dddddd;
  font-size: 20px;
  z-index: 1 ; 
}
.before-title-2 {
  position: absolute;
  top: 130px;
  left: 8px;
  color: #dddddd;
  font-size: 20px;
  z-index: 1 ; 
}
#holder {
    position: relative; 
    overflow: hidden;
}
.title-text {
  text-indent: 135px; /* change this value */
  font-size: 20px;
  line-height: 40px;
  letter-spacing: 2px;
  width: 100%;
  display: block;
  overflow: auto;
  z-index : 99999 ; 
}
	</style>
<script th:inline="javascript">
function h(e) {
    var height =  e.scrollTop; 
    $("#testscrol-1").html(e.scrollTop) ; 
    $("#testscrol-2").html(e.scrollTop) ; 
    $(".before-title").css({'top' : 9 - height });
    
}
$('textarea').each(function () {
  h(this);
}).on('scroll' , function(){
    h(this) ; 
}); 
function help(){
alert($('#contenido').val());
}

	//Validacion de clientesxd
	$( "#ClientePrenda" ).change(function() {
	  	var IdsClientes = $('#ClientePrenda').val(); 
	  	var arrayIdsClientes = String(IdsClientes).split(",");
	  	for(var a = 0; a < arrayIdsClientes.length ; a++ ){
	  		if(arrayIdsClientes[a] == 4){
	  			//Se deseleccionan todos
	  			$("#ClientePrenda option:selected").prop("selected", false);
	  			//Se selecciona el del Cliente General
	  			var selected=$("#ClientePrenda option:selected").map(function(){ return this.value }).get();
	  		    selected.push(4);
	  		    $('#ClientePrenda').val(selected);
	  		}
	  	}
	});

		/*<![CDATA[*/
		var message = /*[[${prenda}]]*/ 'default';
		var familias = /*[[${familias}]]*/ 'default';
		var accion = /*[[${accion}]]*/ 'default';
		var imagenes = /*[[${imagenesPrenda}]]*/ 'default';
		var generos = /*[[${generos}]]*/ 'default';
		var clientes = /*[[${clientes}]]*/ 'default';
		/*]]>*/
		
		//Contador que dice cuantas imagenes existen
		var contadorImagenes = 0;
		
		//Variable que auxilia cuando se elimina una imagen, se guarde el id que tenia
		var idAux = 0;
		
		if(accion == "editar" || accion == "copiar")
		{
			//Asignar los 
			var prenda = /*[[${prenda}]]*/ 'default';
			var prendasmarcadores = /*[[${prendasmarcadores}]]*/ 'default';
			var materiales = /*[[${materialesPrenda}]]*/ 'default';
			var patronajesPrenda = /*[[${patronajesPrenda}]]*/ 'default';
			var imagenes = /*[[${imagenesPrenda}]]*/ 'default';
			var clientesPrenda = /*[[${clientesPrenda}]]*/ 'default';
			//Esta bandera es para la validacion de que no se repita la descripcion de la prenda
			var BanderaDescripcionRepetida = true;
			
			objeto_prenda = prenda;
			
			for (i = 0; i < materiales.length; i++) {
                var temp = {
                    identidad: materiales[i][10],
                    id: materiales[i][0],
                    NoMaterial: materiales[i][1],
                    Nombre: materiales[i][2],
                    Clasificacion: materiales[i][3],
                    Tamanio: materiales[i][4] + ' ' + materiales[i][5],
                    Modelo: materiales[i][7],
                    Proceso: materiales[i][8],
                    cantidad: materiales[i][9]
                };
                objeto_materiales.push(temp);
            }
			

			var temporalParaMarcadores = null;
			for(j = 0; j < prendasmarcadores.length; j++)
			{
				temporalParaMarcadores = "," + prendasmarcadores[j][0];
			}
			
			
			prendasmarcadores = temporalParaMarcadores.substring(1);
			
			//Se agrega el modelo en el cabezero para dar seguimiento
			$('#accionTitulo').remove();
			$('#accionTituloContenedor').append("<div id='accionTitulo'><h3 class='card-title'>Editar Prenda: " + prenda.idText + "</h3></div>");
			
			//Asignar los clientes que ya tiene la prenda
			//clientesPrenda
			for(var i = 0; i < clientesPrenda.length; i++){
				$($('#ClientePrenda').find("option[value=" + clientesPrenda[i].idCliente + "]")).attr("selected", true);
			}
		}
		
		//Funcion que cambia el nombre de las imagenes respecto a la familia de prenda elegida
		$( "#TipoPrenda" ).change(function() {
			for(var i = 0; i < familias.length; i++){
				if(familias[i][0] == $('#TipoPrenda').val()){		
					if(familias[i][3] == "superior"){
						$('#name-1').val("Delantero");
						$('#name-edit-1').val("Delantero");
						$('#name-2').val("Espalda");
						$('#name-edit-2').val("Espalda");	
					}else{
						$('#name-1').val("Frente");
						$('#name-edit-1').val("Frente");
						$('#name-2').val("Trasero");
						$('#name-edit-2').val("Trasero");
					}
					
				}
			}
		});
	</script>
	<script src="/dist/js/FormSteps.js"></script>
	<script>
		$('#iDiseno').removeClass('text-altima');
		$('#navDiseno').addClass('active-altima');
		$('#menuDiseno').addClass('menu-open');
		$('#navDiseno3').addClass('active');
	</script>
	<script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ListaDeMateriales');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('TipoPrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('GeneroPrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ClientePrenda');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('ListaPatronaje');
    });
  </script>
  <script>
    function ordenarSelect(id_componente)
    {
      var selectToSort = jQuery('#' + id_componente);
      var optionActual = selectToSort.val();
      selectToSort.html(selectToSort.children('option').sort(function (a, b) {
        return a.text === b.text ? 0 : a.text < b.text ? -1 : 1;
      })).val(optionActual);
    }
    $(document).ready(function () {
      ordenarSelect('marcador_');
    });
  </script>
</body>

</html>
