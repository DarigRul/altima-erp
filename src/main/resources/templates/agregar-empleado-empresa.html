<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:include="navegacion-head :: header">
	<title id="pageTitle">Carga de pedidos | Altima</title>
</head>
<style>
	@charset "UTF-8";

	#loading {
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		z-index: 100;
		width: 100vw;
		height: 100vh;
		background-color: rgba(192, 192, 192, 0.5);
		background-image: url("https://i.stack.imgur.com/MnyxU.gif");
		background-repeat: no-repeat;
		background-position: center;
	}

	#page {
		display: none;
	}

	#loading {
		display: block;
	}

	.bd-example-modal-lg .modal-dialog {
		display: table;
		position: relative;
		margin: 0 auto;
		top: calc(50% - 24px);
	}

	.bd-example-modal-lg .modal-dialog .modal-content {
		background-color: transparent;
		border: none;
	}
</style>
<div th:insert="modal-empleado-editarnombre"></div>

<body onload="iniciarCarga()" class="hold-transition sidebar-mini layout-fixed sidebar-collapse">

	<div id="loading"></div>

	<input type="hidden" name="_csrf" id="token" th:value="${_csrf.token}" />
	<!-- Site wrapper -->
	<div id="page" class="wrapper">
		<!-- Navbar -->
		<div th:insert="navegacion-nav"></div>
		<!-- /.navbar -->
		<!-- Modal -->
		<div th:insert="navegacion-logout"></div>
		<!-- Main Sidebar Container -->
		<div th:insert="navegacion-aside"></div>
		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<section class="content-header">
				<div class="container-fluid">
					<div class="row mb-2">
						<div class="col-sm-6">
							<h1>
								Empleados de clientes <a th:href="@{/carga-de-pedidos}"><button
										class="btn btn-danger btn-circle btn-sm popoverxd" data-container="body"
										data-toggle="popover" data-placement="right" data-content="Regresar">
										<i class="fas fa-arrow-left"></i>
									</button></a>
								<button class="btn btn-primary btn-circle btn-sm popoverxd" data-target="#addEmpleados"
									data-container="body" data-toggle="modal" data-placement="right"
									data-content="Agregar">
									<i class="fas fa-plus"></i>
								</button>
							</h1>
						</div>
						<div th:insert="modal-empleados-create"></div>
						<div class="col-sm-6">
							<ol class="breadcrumb float-sm-right">
								<li class="breadcrumb-item"><a th:href="@{'/'}">Dashboard</a></li>
								<li class="breadcrumb-item active">Agentes de Venta</li>
								<li class="breadcrumb-item active">Carga de Pedidos</li>
							</ol>
						</div>
					</div>
				</div>
				<!-- /.container-fluid -->
			</section>
			<!-- Main content -->
			<section class="content">
				<div class="container-fluid">
					<div class="row">
						<div class="col-12">
							<!-- Default box -->
							<div class="card">
								<div class="card-header bg-dark">
									<h3 class="card-title">
										&nbsp;
										<button data-toggle="modal" data-target="#eliminarEmpleados"
											class="btn btn-danger btn-sm">Eliminar</button>
										&nbsp;
										<button data-toggle="modal" data-target="#editarEmpleados"
											class="btn btn-primary btn-sm" onclick="seleccionados()">Cambiar</button>
									</h3>
								</div>
								<div th:insert="modal-empleados"></div>
								<div th:insert="modal-empleados-eliminar"></div>
								<div class="card-body">
									<form class="row" th:action="@{'/eliminar/'+${idPedido}+'/'+${idcliente}}"
										id="formEmpleadoEliminar" method="post" enctype="multipart/form-data">
										<div class="form-group col-md-12">
											<table id="tablaEE" class="table table-striped table-bordered"
												style="width: 100%;">
												<thead>
													<tr>
														<th class="text-center"><input type="checkbox" id="checkBoxAll"
																th:value="0"
																th:disabled="${isPreviewView}" />&nbsp;Seleccionar todo
														</th>
														<th>Folio</th>
														<th>Nombre del empleado</th>
														<th>Sucursal</th>
														<th>Raz&oacute;n social</th>
														<th>Editar</th>
														<th>Eliminar</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="data, iterstat: ${empleadosEmpresa}">

														<td class="text-center"><input type="checkbox"
																th:disabled="${isPreviewView}" class="chkCheckBoxId"
																th:value="${data.idEmpleado}"
																name="getdeletenombre_empleado" /></td>

														<td th:text="${data.idText}"></td>
														<td th:text="${data.nombre_empleado}"></td>
														<td class="text-center"><select disabled
																class="form-control selectpicker"
																data-live-search="true" id="coorSucursal"
																name="coorSucursal" onchange="update(this.value)">
																<option
																	th:each="getlistSucursal, iterstat: ${getlistSucursal}"
																	th:value="${getlistSucursal.IdClienteSucursal}"
																	th:text="${getlistSucursal.NombreSucursal}"
																	th:selected="${data.idClienteSucursal == getlistSucursal.IdClienteSucursal}">
																</option>
															</select></td>
														<td class="text-center"><select disabled
																class="form-control selectpicker"
																data-live-search="true" id="coorPrenda">
																<option
																	th:each="getlistfactura, iterstat: ${getlistfactura}"
																	th:value="${getlistfactura.idClienteFacturaF}"
																	th:text="${getlistfactura.razon_socialF}"
																	th:selected="${data.idClienteFactura == getlistfactura.idClienteFacturaF}">
																</option>
															</select></td>
														<td style="width: 5%" class="text-center">
															<button th:id="'miboton' + ${data.idEmpleado}"
																class="btn btn-primary" th:disabled="${isPreviewView}"
																th:value="${data.nombre_empleado}"
																th:onclick="'javascript:editarempleado(\'' +  ${data.idEmpleado} + '\');'"
																data-toggle="modal" type="submit" form="form1"
																data-target="#editarnombreempleado">Editar</button>
														</td>
														<td style="width: 5%" class="text-center">
															<button class="btn btn-danger" th:value="${data.idEmpleado}"
																name="getdeletenombre_empleado"
																th:disabled="${isPreviewView}"
																onClick="elimiarEmpleado()">Eliminar</button>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
										<div class="form-group col-sm-12">
											<a th:href="@{'/carga-de-pedidos'}" class="btn btn-danger">Cancelar</a> <a
												th:href="@{'/cargarregistroempleado/'+${idPedido}+'/'+${idcliente}}"
												class="btn btn-primary next-step float-right">Guardar</a>
											<!-- <input type="submit" class="btn btn-primary next-step float-right"  value="Guardarprueba2">-->
										</div>
									</form>
									<form  action="#" th:action="@{'/cargarregistroempleado/'+${idPedido}+'/'+${idcliente}}"  method="post">
									
											<input type="submit" id="submitButton" th:value="Save">
											<input type="reset" id="resetButton" name="reset" th:value="Reset" />
											<table>
												<thead>
													<tr>
														<th> Title</th>
														<th> Author</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="empleado, itemStat : *{empleadosEmpresa}">
														<td><input type="hidden" name="idText[]" th:value="${empleado.idText}"></td>
														<td><input type="hidden" name="nombreEmpleado[]" th:value="${empleado.nombre_empleado}"></td>
														<td><input type="hidden" name="idClienteFactura[]" th:value="${empleado.idClienteFactura}"></td>
														<td><input type="hidden" name="idClienteSucursal[]" th:value="${empleado.idClienteSucursal}"></td>
														<td><input type="hidden" name="creadoPor[]" th:value="${empleado.creadoPor}"></td>
														<td><input type="hidden" name="actualizadoPor[]" th:value="${empleado.actualizadoPor}"></td>
														<td><input type="hidden" name="idPedidoInformacion[]" th:value="${empleado.idPedidoInformacion}"></td>
													</tr>
												</tbody>
											</table>
									
									</form>
								</div>
								<!-- /.card-body -->
							</div>
							<!-- /.card -->
						</div>
					</div>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->
		<div th:insert="navegacion-footer"></div>
	</div>
	<!-- ./wrapper -->
	<div th:replace="navegacion-scripts"></div>
	<script src="/dist/js/bootstrap-select.min.js"></script>
	<script src="/dist/js/sweetalert.js"></script>
	<script src="/dist/js/tablaEmpleadoEmpresa.js"></script>
	<!--  --<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script> -->
	<script>
		function iniciarCarga() {
			document.getElementById("page").style.display = "block";
			document.getElementById("loading").style.display = "none";
		}
	</script>
	<script>
		$(document).ready(function () {
			$('.selectpicker').selectpicker({
				style: 'border border-bootstrap'
			});
		});
	</script>
	<script>
		$('#iComercial').removeClass('text-primary');
		$('#menuComercial').addClass('menu-open');
		$('#navComercial').addClass('active');
		$('#menuVenta').addClass('menu-open');
		$('#navVenta').addClass('active');
		$('#navVenta4').addClass('active');
		$('#menuCarga').addClass('menu-open');
		$('#navsubVenta2').addClass('active');
	</script>

</body>

</html>